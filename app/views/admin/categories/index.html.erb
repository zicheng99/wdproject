<h1>Categories</h1>
<p><%= link_to 'New Category', new_admin_category_path, class: "btn btn-primary" %></p>
<br>
<table class="table" id="id-categories-table" style="text-align: center;">
  <thead>
    <tr>
      <th style="width: 10%;">Category ID</th>
      <th>Image</th>
      <th>Category Name</th>
      <th>Edit</th>
      <th>Delete</th>
    </tr>
  </thead>

  <tbody>
    <% @categories.each do |category| %>
      <tr>
        <td style="vertical-align:middle;"><%= category.id %></td>
        <td style="vertical-align:middle;"><%= image_tag category.image.url, style: "width: 150px; height: 150px;" %></td>
        <td style="vertical-align:middle;"><%= category.name %></td>
        <td style="vertical-align:middle;"><%= link_to 'Edit', edit_admin_category_path(category), class: "btn btn-primary" %></td>
        <td style="vertical-align:middle;"><%= link_to 'Destroy', admin_category_path(category), method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<script>
$(document).ready( function () {
    //alert('ready');

    $('#id-categories-table').DataTable({
       paging: true,
       searching: true,
       ordering:  true,
       dom: 'Bfrtip',
        buttons: [
            {
                extend: 'excelHtml5',
                title: 'Categories',
                exportOptions: {
                    columns: [ 0,2 ]
                }
            }, 'csv', 'pdf', 'print'
        ]
    });
    
});
</script>
